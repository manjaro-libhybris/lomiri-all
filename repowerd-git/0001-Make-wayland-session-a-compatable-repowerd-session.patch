From b3da99ac72e2f5cec5e5165b95c74ef36f2606b1 Mon Sep 17 00:00:00 2001
From: Marius Gripsgard <marius@ubports.com>
Date: Fri, 14 Aug 2020 22:56:33 +0200
Subject: [PATCH] Make wayland session a compatable repowerd session

---
 src/adapters/logind_session_tracker.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/adapters/logind_session_tracker.cpp b/src/adapters/logind_session_tracker.cpp
index 03c19c0..c05e28b 100644
--- a/src/adapters/logind_session_tracker.cpp
+++ b/src/adapters/logind_session_tracker.cpp
@@ -42,7 +42,7 @@ char const* const dbus_session_interface = "org.freedesktop.login1.Session";
 repowerd::SessionType logind_session_type_to_repowerd_type(
     std::string const& logind_session_type)
 {
-    if (logind_session_type == "mir")
+    if (logind_session_type == "mir" || logind_session_type == "wayland")
         return repowerd::SessionType::RepowerdCompatible;
     else
         return repowerd::SessionType::RepowerdIncompatible;
-- 
2.25.1
